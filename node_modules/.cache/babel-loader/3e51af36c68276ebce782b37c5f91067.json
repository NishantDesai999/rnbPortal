{"ast":null,"code":"import _classCallCheck from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\Codes\\\\react\\\\portal\\\\src\\\\Officer\\\\ComplaintContainer.js\";\nimport React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Slide from '@material-ui/core/Slide';\nimport Grid from '@material-ui/core/Grid';\nimport SideFilter from \"../Components/SideFilter\";\nimport ComplaintTable from \"./ComplaintTable\";\nimport GeneralDialog from '../Components/GeneralDialog';\nimport { getCookie, url } from '../constants'; // import Card from '@material-ui/core/Card';\n\nvar styles = function styles(theme) {\n  return {\n    wrapper: {\n      // marginTop: '-56px',\n      // width: '100vw',\n      // height: '100vh',\n      display: 'flex'\n    }\n  };\n};\n\nvar ComplaintContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ComplaintContainer, _Component);\n\n  function ComplaintContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ComplaintContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ComplaintContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      startAnimation: false,\n      isLoading: true,\n      complaints: []\n    };\n\n    _this.handleDialogOpen = function (dialogMsg, dialogTitle) {\n      _this.setState({\n        openDialog: true,\n        dialogMsg: dialogMsg,\n        dialogTitle: dialogTitle\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        openDialog: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ComplaintContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        startAnimation: true\n      }); // console.log(getCookie(\"roadGPortalAuth\"));\n\n      var headers = new Headers();\n      headers.append('origin', '*');\n      headers.append('auth', 'token ' + getCookie(\"roadGPortalAuth\"));\n      var req = new Request(url + \"getComplaints?isPaginated=0\", {\n        method: \"GET\",\n        headers: headers,\n        mode: 'cors'\n      });\n      fetch(req).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (res.success) {\n          _this2.setState({\n            complaints: res.complaints,\n            isLoading: false\n          });\n        } else {\n          _this2.handleDialogOpen(res.data, \"Error\");\n\n          _this2.setState({\n            isLoading: false\n          });\n        }\n      }).catch(function (err) {\n        console.log(err);\n\n        _this2.handleDialogOpen(err.message, \"Error\");\n\n        _this2.setState({\n          isLoading: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: classes.wrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(GeneralDialog, {\n        openDialogState: this.state.openDialog,\n        dialogTitle: this.state.dialogTitle,\n        dialogMsg: this.state.dialogMsg,\n        handleClose: this.handleClose,\n        handleDialogOpen: this.handleDialogOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        spacing: 8,\n        style: {\n          margin: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        sm: 3,\n        xs: 12,\n        style: {\n          height: '90vh',\n          overflowY: 'scroll'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Slide, {\n        direction: \"right\",\n        in: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(SideFilter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        item: true,\n        sm: 9,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          margin: '10px',\n          height: '80vh',\n          overflowY: 'scroll'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/Dashboard/Complaints/Table\",\n        render: function render() {\n          return React.createElement(ComplaintTable, {\n            complaintsData: _this3.state.complaints,\n            isLoading: _this3.state.isLoading,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/Dashboard/Complaints/Reports\",\n        render: function render() {\n          return React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, \"Complaint Reports\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/Dashboard/Complaints/Maps\",\n        render: function render() {\n          return React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, \"Complaint Maps\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/Dashboard/Complaints/*\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        to: \"/Dashboard/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return ComplaintContainer;\n}(Component);\n\nComplaintContainer.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(ComplaintContainer);","map":{"version":3,"sources":["E:\\Codes\\react\\portal\\src\\Officer\\ComplaintContainer.js"],"names":["React","Component","Route","Switch","Redirect","PropTypes","withStyles","Slide","Grid","SideFilter","ComplaintTable","GeneralDialog","getCookie","url","styles","theme","wrapper","display","ComplaintContainer","state","startAnimation","isLoading","complaints","handleDialogOpen","dialogMsg","dialogTitle","setState","openDialog","handleClose","headers","Headers","append","req","Request","method","mode","fetch","then","res","json","success","data","catch","err","console","log","message","classes","props","margin","height","overflowY","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Slide from '@material-ui/core/Slide';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport SideFilter from \"../Components/SideFilter\";\nimport ComplaintTable from \"./ComplaintTable\";\nimport GeneralDialog from '../Components/GeneralDialog';\nimport { getCookie, url } from '../constants';\n\n// import Card from '@material-ui/core/Card';\n\nconst styles = theme => ({\n    wrapper: {\n        // marginTop: '-56px',\n        // width: '100vw',\n        // height: '100vh',\n        display: 'flex'\n    }\n})\n\nclass ComplaintContainer extends Component {\n\n    state = {\n        startAnimation: false,\n        isLoading: true,\n        complaints: []\n    }\n\n    handleDialogOpen = (dialogMsg, dialogTitle) => {        \n        this.setState({ \n            openDialog: true,\n            dialogMsg: dialogMsg,\n            dialogTitle: dialogTitle\n        });\n    };\n\n    handleClose = () => {\n        this.setState({ openDialog: false });\n    };\n\n    componentDidMount() {\n        this.setState({\n            startAnimation: true,\n        })\n\n        // console.log(getCookie(\"roadGPortalAuth\"));\n        \n\n        let headers = new Headers();\n        headers.append('origin', '*');\n        headers.append('auth', 'token ' + getCookie(\"roadGPortalAuth\"));\n\n        let req = new Request(url  + \"getComplaints?isPaginated=0\", {\n            method: \"GET\",\n            headers: headers,\n            mode: 'cors'\n        });\n\n        fetch(req)\n            .then(res => res.json())\n            .then(res => {\n                if(res.success){\n                    this.setState({\n                        complaints: res.complaints,\n                        isLoading: false\n                    })\n                }else{\n                    this.handleDialogOpen(res.data, \"Error\");\n                    this.setState({\n                        isLoading: false\n                    })\n                }\n            })\n            .catch(err => {\n                console.log(err);                \n                this.handleDialogOpen(err.message, \"Error\")\n                this.setState({\n                    isLoading: false\n                })\n            });\n    }\n\n    render() {\n        let { classes } = this.props;\n\n        return (\n          <div className={classes.wrapper}>\n            <GeneralDialog \n                openDialogState = {this.state.openDialog}\n                dialogTitle = {this.state.dialogTitle}\n                dialogMsg = {this.state.dialogMsg}  \n                handleClose={this.handleClose}\n                handleDialogOpen={this.handleDialogOpen}\n            >\n                {/* <Button>Hello</Button> */}\n            </GeneralDialog>\n            <Grid container spacing={8} style={{margin:'auto'}}>\n                <Grid item sm={3} xs={12} style={{height: '90vh', overflowY:'scroll'}}>\n                    <Slide direction=\"right\" in={true}>\n                        <SideFilter /> \n                    </Slide>\n                </Grid>\n                <Grid item sm={9} xs={12} >\n                    <div style={{margin: '10px', height: '80vh', overflowY:'scroll'}}>\n                        <Switch >\n                            <Route exact path=\"/Dashboard/Complaints/Table\" render={() => (<ComplaintTable complaintsData={this.state.complaints} isLoading={this.state.isLoading} />)} />\n                            <Route exact path=\"/Dashboard/Complaints/Reports\" render={() => (<h1>Complaint Reports</h1>)} />\n                            <Route exact path=\"/Dashboard/Complaints/Maps\" render={() => (<h1>Complaint Maps</h1>)} />\n                            <Route path=\"/Dashboard/Complaints/*\">\n                                <Redirect to=\"/Dashboard/\" />\n                            </Route>\n                        </Switch>\n                    </div>\n                </Grid>\n            </Grid>\n          </div>  \n        );\n    }\n}\n\nComplaintContainer.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ComplaintContainer);"]},"metadata":{},"sourceType":"module"}