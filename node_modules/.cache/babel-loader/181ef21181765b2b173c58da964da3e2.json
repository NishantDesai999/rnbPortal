{"ast":null,"code":"import _classCallCheck from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Codes\\\\react\\\\portal\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\Codes\\\\react\\\\portal\\\\src\\\\Authentication\\\\index.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport LoginComponent from '../Components/LoginComponent';\nimport ForgotPasswordComponent from '../Components/ForgotPasswordComponent';\nimport { url } from \"../constants\";\nimport GeneralDialog from '../Components/GeneralDialog';\n\nvar styles = function styles(theme) {\n  return {\n    wrapper: {\n      width: '100vw',\n      height: '100vh',\n      display: 'flex'\n    }\n  };\n};\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loginTab: true,\n      openDialog: false\n    };\n\n    _this.toLoginTab = function () {\n      _this.setState({\n        loginTab: true\n      });\n    };\n\n    _this.toForgotPassTab = function () {\n      _this.setState({\n        loginTab: false\n      });\n    };\n\n    _this.handleDialogOpen = function (dialogMsg, dialogTitle) {\n      _this.setState({\n        openDialog: true,\n        dialogMsg: dialogMsg,\n        dialogTitle: dialogTitle\n      });\n    };\n\n    _this.setCookie = function (cname, cvalue, exdays) {\n      var d = new Date();\n      d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n      var expires = \"expires=\" + d.toUTCString();\n      document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";\";\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        openDialog: false\n      });\n    };\n\n    _this.handleLogin = function (phoneNo, password) {\n      if (phoneNo && password && password.length >= 6 && password.length < 12) {\n        fetch(url + \"login/\", {\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          method: \"POST\",\n          body: JSON.stringify({\n            phoneNo: phoneNo,\n            password: password\n          })\n        }).then(function (res) {\n          return res.json();\n        }).then(function (res) {\n          console.log(res);\n\n          if (res.success) {\n            _this.setCookie(\"roadGPortalAuth\", res.data, 1);\n\n            _this.props.setLogin();\n          } else {\n            _this.handleDialogOpen(res.data, \"Error\");\n          }\n        }).catch(function (err) {\n          console.log(err);\n\n          _this.handleDialogOpen(err.message, \"Error\");\n        });\n      } else {\n        alert(\"Password is required and it must be between 6 to 12 character\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: classes.wrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.state.loginTab ? React.createElement(LoginComponent, {\n        handleLogin: this.handleLogin,\n        toForgotPassTab: this.toForgotPassTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }) : React.createElement(ForgotPasswordComponent, {\n        toLoginTab: this.toLoginTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(GeneralDialog, {\n        openDialogState: this.state.openDialog,\n        dialogTitle: this.state.dialogTitle,\n        dialogMsg: this.state.dialogMsg,\n        handleClose: this.handleClose,\n        handleDialogOpen: this.handleDialogOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Login);","map":{"version":3,"sources":["E:\\Codes\\react\\portal\\src\\Authentication\\index.js"],"names":["React","Component","PropTypes","withStyles","LoginComponent","ForgotPasswordComponent","url","GeneralDialog","styles","theme","wrapper","width","height","display","Login","state","loginTab","openDialog","toLoginTab","setState","toForgotPassTab","handleDialogOpen","dialogMsg","dialogTitle","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","handleClose","handleLogin","phoneNo","password","length","fetch","headers","method","body","JSON","stringify","then","res","json","console","log","success","data","props","setLogin","catch","err","message","alert","classes","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport LoginComponent from '../Components/LoginComponent';\nimport ForgotPasswordComponent from '../Components/ForgotPasswordComponent';\n\nimport { url } from \"../constants\";\nimport GeneralDialog from '../Components/GeneralDialog';\n            \n\nconst styles = theme => ({\n    wrapper: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex'\n    }\n})\n\nclass Login extends Component {\n\n    //state of login component\n    state = {\n        loginTab: true,\n        openDialog : false\n    }\n\n    toLoginTab = () => {\n        this.setState( {\n            loginTab: true\n        });\n    }\n\n    toForgotPassTab = () => {\n        this.setState( {\n            loginTab: false\n        });\n    }\n\n    handleDialogOpen = (dialogMsg, dialogTitle) => {        \n        this.setState({ \n            openDialog: true,\n            dialogMsg: dialogMsg,\n            dialogTitle: dialogTitle\n        });\n    };\n\n    setCookie = (cname, cvalue, exdays) => {\n        var d = new Date();\n        d.setTime(d.getTime() + (exdays*24*60*60*1000));\n        var expires = \"expires=\"+ d.toUTCString();\n        document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";\";\n    }\n\n    handleClose = () => {\n        this.setState({ openDialog: false });\n    };\n\n    handleLogin = (phoneNo, password) => {\n        if(phoneNo && password && password.length >= 6 && password.length < 12) {\n            fetch(url + \"login/\", {\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json'\n                    },\n                    method: \"POST\",\n                    body: JSON.stringify({phoneNo:phoneNo, password:password})\n                }\n            )\n            .then(res => res.json())\n            .then(res => {\n                console.log(res);\n                if(res.success){\n                    this.setCookie(\"roadGPortalAuth\", res.data, 1);\n                    this.props.setLogin();\n                }else{\n                    this.handleDialogOpen(res.data, \"Error\");\n                }\n            })\n            .catch(err => {\n                console.log(err);                \n                this.handleDialogOpen(err.message, \"Error\")\n            });\n            \n        } else {\n            alert(\"Password is required and it must be between 6 to 12 character\")\n        }\n    }\n\n    render() {\n        let { classes } = this.props;\n\n        return (\n          <div className={classes.wrapper}>\n            { this.state.loginTab ? <LoginComponent handleLogin={this.handleLogin} toForgotPassTab={this.toForgotPassTab} /> : <ForgotPasswordComponent toLoginTab={this.toLoginTab} /> }\n            <GeneralDialog \n                openDialogState = {this.state.openDialog}\n                dialogTitle = {this.state.dialogTitle}\n                dialogMsg = {this.state.dialogMsg}  \n                handleClose={this.handleClose}\n                handleDialogOpen={this.handleDialogOpen}\n            >\n                {/* <Button>Hello</Button> */}\n            </GeneralDialog>\n          </div>  \n        );\n    }\n}\n\nLogin.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Login);"]},"metadata":{},"sourceType":"module"}