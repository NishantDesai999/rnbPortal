{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = exports.InlineWrapper = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Popover = _interopRequireDefault(require(\"@material-ui/core/Popover\"));\n\nvar _withStyles = _interopRequireDefault(require(\"@material-ui/core/styles/withStyles\"));\n\nvar _reactEventListener = _interopRequireDefault(require(\"react-event-listener\"));\n\nvar _keycode = _interopRequireDefault(require(\"keycode\"));\n\nvar _DateTextField = _interopRequireDefault(require(\"../_shared/DateTextField\"));\n\nvar _propTypes2 = _interopRequireDefault(require(\"../constants/prop-types\"));\n\nvar InlineWrapper =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  (0, _inheritsLoose2.default)(InlineWrapper, _PureComponent);\n\n  function InlineWrapper() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _PureComponent.call.apply(_PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      anchorEl: null\n    };\n\n    _this.open = function (e) {\n      _this.setState({\n        anchorEl: e.currentTarget\n      });\n\n      if (_this.props.onOpen) {\n        _this.props.onOpen();\n      }\n    };\n\n    _this.close = function () {\n      _this.setState({\n        anchorEl: null\n      });\n\n      if (_this.props.onClose) {\n        _this.props.onClose();\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      switch ((0, _keycode.default)(event)) {\n        case 'enter':\n          {\n            _this.props.handleAccept();\n\n            _this.close();\n\n            break;\n          }\n\n        default:\n          // if keycode is not handled, stop execution\n          return;\n      } // if event was handled prevent other side effects\n\n\n      event.preventDefault();\n    };\n\n    return _this;\n  }\n\n  InlineWrapper.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    // only if accept = true close the popover\n    if (nextProps.isAccepted) {\n      return {\n        anchorEl: null\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = InlineWrapper.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        value = _this$props.value,\n        format = _this$props.format,\n        children = _this$props.children,\n        onOpen = _this$props.onOpen,\n        onClose = _this$props.onClose,\n        PopoverProps = _this$props.PopoverProps,\n        isAccepted = _this$props.isAccepted,\n        keyboard = _this$props.keyboard,\n        onlyCalendar = _this$props.onlyCalendar,\n        classes = _this$props.classes,\n        handleAccept = _this$props.handleAccept,\n        other = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"value\", \"format\", \"children\", \"onOpen\", \"onClose\", \"PopoverProps\", \"isAccepted\", \"keyboard\", \"onlyCalendar\", \"classes\", \"handleAccept\"]);\n    var isOpen = Boolean(this.state.anchorEl);\n    return _react.default.createElement(_react.Fragment, null, isOpen && _react.default.createElement(_reactEventListener.default, {\n      target: \"window\",\n      onKeyDown: this.handleKeyDown\n    }), _react.default.createElement(_DateTextField.default, (0, _extends2.default)({\n      value: value,\n      format: format,\n      onClick: this.open,\n      keyboard: keyboard\n    }, other)), _react.default.createElement(_Popover.default, (0, _extends2.default)({\n      id: \"picker-popover\",\n      open: isOpen,\n      anchorEl: this.state.anchorEl,\n      onClose: this.close,\n      classes: {\n        paper: classes.popoverPaper\n      },\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: keyboard ? 'right' : 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: keyboard ? 'right' : 'center'\n      },\n      children: children\n    }, PopoverProps)));\n  };\n\n  return InlineWrapper;\n}(_react.PureComponent);\n\nexports.InlineWrapper = InlineWrapper;\nInlineWrapper.defaultProps = {\n  value: new Date(),\n  labelFunc: undefined,\n  onlyCalendar: false,\n  format: undefined,\n  onClear: undefined,\n  onOpen: undefined,\n  onClose: undefined,\n  PopoverProps: undefined,\n  isAccepted: false,\n  keyboard: undefined\n};\nprocess.env.NODE_ENV !== \"production\" ? InlineWrapper.propTypes = {\n  /** Show only calendar for datepicker in popover mode */\n  onlyCalendar: _propTypes.default.bool,\n\n  /** Picker value */\n  value: _propTypes2.default.date,\n\n  /** On open callback [(e: Event) => void] */\n  onOpen: _propTypes.default.func,\n\n  /** On close callback [(e: Event) => void] */\n  onClose: _propTypes.default.func,\n\n  /** Format string */\n  format: _propTypes.default.string,\n\n  /** Dialog props passed to material-ui Dialog */\n  PopoverProps: _propTypes.default.object,\n  labelFunc: _propTypes.default.func,\n  onClear: _propTypes.default.func,\n  isAccepted: _propTypes.default.bool,\n  handleAccept: _propTypes.default.func.isRequired,\n  children: _propTypes.default.node.isRequired,\n  keyboard: _propTypes.default.bool,\n  classes: _propTypes.default.object.isRequired\n} : void 0;\nvar styles = {\n  popoverPaper: {\n    maxWidth: 310,\n    minWidth: 290,\n    paddingBottom: 8\n  }\n};\n\nvar _default = (0, _withStyles.default)(styles)(InlineWrapper);\n\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}